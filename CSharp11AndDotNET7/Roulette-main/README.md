# 1. Вовед

Апликацијата Рулет е дигитална имплементација на популарната казино игра, Рулет. Обезбедува виртуелно тркало на рулет и им овозможува на корисниците да ставаат облози и да симулираат вртење на топче на тркалото. Оваа документација ќе ве води низ функционалноста на апликацијата, како да ја играте играта и други релевантни информации.

# 2. Инсталација

Апликацијата Рулет не бара никаква инсталација. Едноставно стартувајте ја извршната датотека за да ја стартувате апликацијата.

# 3. Апликациски интерфејс

Апликацијата Рулет има кориснички интерфејс со следните компоненти:

- Тркало на рулет: визуелна претстава на тркалото на рулет каде што топката ќе застане на едно случајно поле по вртењето.
- Маса за обложување: прикажува различни опции за обложување и им овозможува на корисниците да ги стават своите облозикаде што секоја опција е копче.
- Износ на облог: поле за внесување каде што корисниците можат да го внесат износот на пари со кој сакаат да се обложат.
- Копче за вртење на тркалото: Го иницира вртењето на тркалото на рулетот по ставањето облози.
- Салдо: Го прикажува моменталното салдо или расположливите средства за обложување.
- Копче за депонирање на одредена сума на пари.
- Копче за прикажување на правилата на играта Рулет и упатство за како корисникот да ја користи апликацијата.
- Листа со моменталните облози направени од страна на корисникот.
- Опција за бришење на последниот ставениот облог.
- Опција за бришење на сите поставени облози.

# 4. Визуелен приказ на апликацијата

На следната слика е прикажана почетната форма на апликацијата која се состои од главната апликација каде што се достапни опциите за облог, разни копчиња, тркало и друго.

[Визуелен приказ на апликацијата](https://imgur.com/a/liD78nj)

Како што можете да видите, почетното салдо на корисникот е 0 бидејќи тој нема ставено никаков депозит на почетокот на играта. За да направи депозит, корисникот треба да кликне на копчето „Deposit Money" по што ќе се отвори формата која можете да ја видите на следната слика:

[Визуелен приказ на форма за депонирање пари](https://imgur.com/a/mOeDkYp)

На оваа слика е прикажана формата која се отвара по кликање на копчето „Deposit Money". Тука корисникот треба да внесе некоја цифра поголема од 0 и потоа со кликање на копчето „Deposit" на тековното салдо ќе биде додадена внесената вредност.

Следно е копчето „Rules & How To Play" кое ги прикажува правилата на играта Рулет и упатство за како корисникот да ја игра играта. На следната слика е прикажана формата која се отвора по кликање на наведеното копче:

[Визуелен приказ на формата за правила и упатство](https://imgur.com/a/fGVBiDS)

Останатите делови од апликацијата се поле кое го прикажува тековното салдо, поле во кое се внесува износ кој сакаме да го обложиме, табла со опции за облог, листа со тековни облози како и копчиња за бришење на последниот облог, бришење на сите тековни облози и копче за вртење на тркалото.

# 5. Решение на проблемот

За да се изработи апликацијата Рулет искористени се неколку класи:

- Класа **Ball** која е класа за претставување на топчето
- Класа **Wallet** која е класа за претставување на салдото на корисникот
- Класа **Bet** која претставува еден облог
- Класа **Betting** која го претставува целото обложување

Како и форми за главната апликација, форма за делот за депозит и форма за прикажување на правилата и упатство за играње.Искористен е и тајмер кој се користи за симулација на вртење на топчето.

## 5.1 Класа Ball

Класата Ball ги содржи следните променливи: Центар на топчето од тип **Point** , боја на топчето од тип **Color** , радиус на топчето од тип **Int** , како и две променливи од тип **Float**** RotationAngle **и** RotationSpeed **кои се користат за придвижување на топчето за симулација на неговото движење. Класта се состои од конструктор, метод** Draw **кој го црта топчето и метод** UpdatePosition**кој ја менува позицијата на топчето.

На следната слика е прикажан методот **UpdatePosition** од класата **Ball** :

[Визуелен приказ на функцијата **UpdatePosition**](https://imgur.com/a/Q1fd0Zp)

Методот функционира на тој начин што на променливата **RotationAngle** му ја додава моменталната вредност на променливата **RotationSpeed** и потоа користејќи ја вредноста на променливата **RotationAngle** математички ја пресметува следната точка која ќе претставува центар на топчето.

## 5.2 Класа Betting

Класата Betting се состои само од една празна листа од тип **Bet** во која се внесуваат облозите кои ги прави корисникот. Класата ги има следните методи: Конструктор, функција за пресметка на добивка, функција за бришење на последниот облог како и функција за бришење на сите облози.

## 5.3 Главна класа

Главната класа на оваа апликација се состои од следните променливи: променлива **wheelImage** од тип **Image** која се користи за приказ на слика од тркало од рулет, променлива од тип **Ball** , променлива од тип **Betting** , променлива **ticks** која претставува број на отчукувања на тајмерот кои се користат за да се пресмета полето на кое застанало топчето, речник од парови **\<int,int\>** во кој се запишани вредности на променливата ticks и соодветните броеви, листа од тип Int која ги содржи клучевите од речникот која ќе се искористи за пресметка на извлечениот број како и променлива од тип **Wallet**. Исто така се користи и променлива од тип **SoundPlayer** која симулира аплауз доколку корисникот добие на некој од облозите како и променливи **drawnNumber** и **duration** од тип Int.

Во класата има посебни функции за обработка на Click настанот на црвеното и црното копче како и заедничка функција која го обработува Click евентот на сите други копчиња. Функцијата детектира на кој број сака да стави облог корисникот на тој начин што го парсира текстот на копчето. Потоа функцијата проверува дали корисникот има доволно салдо, дали внел вредност на облогот, и доколку се валидни овие две работи, се внесува нов облог во листата на облози на објектот од класата **Betting** и се одзима вредноста на облогот од тековното салдо на корисникот. Доколку не се исполни некој услов, се прикажува соодветна порака за грешка.

При кликање на копчето **SPIN** од главната апликација прво се проверува дали корисникот ставил барем еден облог. Доколу ставил, се стартува тајмерот кој се користи за вртење на топчето во рулетот. Потоа се влече една случајна вредност од листата **tickValues** која претставува времетраење на вртењето на топчето а со тоа се добива и бројот на кој ќе застане топчето. Доколку корисникот не ставил ниту еден облог, се појавува порака за грешка.

Друга функција во оваа класата е Tick евентот на тајмерот кој се користи во апликацијата. Во оваа функција променливата **ticks** се зголемува за 1, се променува позицијата на топчето. Потоа се проверува доколку вредноста на променливата **ticks** е поголема од 200, и доколку е се намалува брзината на вртењето на топчето. Потоа се проверува дали вредноста на променливата **ticks** е еднаква со променливата **duration** , и доколку е се стопира тајмерот а со тоа се стопира и движењето на топчето. Потоа се повикува функцијата **CalculateWinning** на класата Betting со аргумент извлечениот број која проверува дали корисникот ставил облог на тој број. Доколку корисникот добие на некој од облозите, се прикажува порака и се активира променливата која го пушта звукот на аплауз.

# 6. Кратка симулација за тоа како функционира апликацијата

[Симулација](https://youtu.be/rGM6-BMTuk8)
